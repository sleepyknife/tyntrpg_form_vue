<script setup>
import Header from './components/Header.vue';
import Form from './components/Form.vue';
import Pending from './components/Pending.vue';
import Close from './components/Close.vue';

import { ref, onMounted } from "vue";

const Phase = ref("");

// ğŸ”¥ JOJO è²“è²“è­¦å‘Š Console å‡½æ•¸
function showJojoCatConsole() {
  setTimeout(() => {
	  
	const asciiCat = [
  " ,_     _",
  " |\\_,-~/",
  " / _  _ |    ,--.    ã€Œä½ â€¦ç‚ºä»€éº¼æ‰“é–‹äº† Consoleï¼Ÿã€",
  "(  @  @ )   / ,-'    ã€Œæ˜æ˜çŸ¥é“é‚£è£¡æ˜¯é¨™äººçš„é™·é˜±â€¦ã€",
  " \\  _T_/-._( (",
  " /         `. \\      ã‚´",
  "|         _  \\ |      ã‚´",
  " \\ \\ ,  /      |      ã‚´",
  "  || |-_\__   /          ã‚´",        
  " ((_/`(____,-'            ã‚´â€¦"
].join('\n');


    const phrase1 = 'ã€Œä½ â€¦ä¸¦æ²’æœ‰é¸æ“‡é€ƒè·‘â€¦ã€';
    const phrase2 = 'ã€Œå±…ç„¶â€¦ä¸æ˜¯å¾Œé€€ï¼Œè€Œæ˜¯æœæˆ‘èµ°ä¾†å—ï¼Ÿã€';
    const phrase3 = 'ã€Œé–‹ç™¼è€…çš„é ˜åŸŸï¼Œåªå±¬æ–¼æœ‰è¦ºæ‚Ÿä¹‹äººã€‚ã€';
    const standName = 'â˜… æ›¿èº«åï¼šFURTISSIMOï¼ˆæ¯›å¥æ¥µé™ï¼‰';

    console.log('%câš ï¸ ä½æ‰‹ï¼Œé–‹ç™¼è€…ï¼', 'font-size: 40px; color: #b300b3; font-weight: bold;');
    console.log('%cä½ æ­£å°ä¸Šäº†ä¸è©²æ¥è§¸çš„æ›¿èº«ã€‚', 'font-size: 18px; color: #ff66cc; font-style: italic;');
    console.log('%cé€™è£¡ä¸æ˜¯è¼¸å…¥ç¥ç¥•ç¨‹å¼ç¢¼çš„åœ°æ–¹ï¼Œé€™æ˜¯å‘½é‹çš„æˆ°å ´ã€‚', 'font-size: 14px; color: orange;');
    console.log('%c' + phrase1, 'color: #999; font-size: 14px;');
    console.log('%c' + phrase2, 'color: #fff; font-size: 16px; font-weight: bold;');
    console.log('%c' + phrase3, 'color: #ff9999; font-size: 14px; font-style: italic;');
    console.log('%c' + standName, 'color: cyan; font-size: 13px;');
    console.log('%cåƒè€ƒï¼šhttps://trpgintaoyuan.weebly.com\n', 'font-size: 12px; color: blue; text-decoration: underline;');
    console.log('%c' + asciiCat, 'font-family: monospace; color: #993299; font-size: 13px; font-weight: bold;');
  }, 1000);
}

onMounted(() => {

  // è®€å– env.jsonï¼ˆå–®ç¨çš„ async å‡½æ•¸ï¼‰
  loadEnvData();
  
  // é¡¯ç¤º JOJO è²“è²“ Console è­¦å‘Š
  showJojoCatConsole();
})

async function loadEnvData() {
  try {
	  fetch(`${import.meta.env.BASE_URL}env.json`)
		  .then(response => response.json())
		  .then(data => {
			console.log('ğŸ“¦ JSON Data:', data);
			Phase.value = data.Phase; // Get phase
		  })
		  .catch(error => console.error('âŒ Failed to load env.json:', error));

	
	console.log("Phase after fetch:", Phase.value); // âœ… ç¢ºä¿åœ¨è³‡æ–™åŠ è¼‰å¾Œå°å‡º
  } catch (error) {
    console.error("Error loading env.json:", error);
  }
}



</script>

<template>
  <div>
    <main>
	  <div v-if="Phase === 'Form'"><Form /></div>
	  <div v-else-if="Phase === 'Pending'"><Pending /></div>
	  <div v-else-if="Phase === 'Close'"><Close /></div>
    </main>
  </div>
</template>

<style>
main {
  padding: 20px;
  background-color: #DBB3B3;
  color: black;
}

body {
  background-color: #DBB3B3;
}
</style>
